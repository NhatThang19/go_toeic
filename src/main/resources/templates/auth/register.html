<!DOCTYPE html>
<html lang="vi"
      xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/auth-layout}">

<head>
    <title>Đăng ký</title>
</head>

<body>

<div layout:fragment="content">

    <h2 class="text-2xl font-bold text-center mb-1 text-gray-800">Tạo tài khoản mới</h2>
    <p class="text-center text-gray-500 text-sm mb-6">Bắt đầu hành trình chinh phục TOEIC ngay hôm nay.</p>

    <form th:action="@{/dang-ky}" th:object="${userRegisterReq}" method="POST">

        <fieldset class="fieldset w-full mb-3">
            <legend class="fieldset-legend font-bold text-gray-700">Họ và tên</legend>
            <label
                    class="input w-full bg-base-100 border-gray-300 focus-within:border-[#422AD5] focus-within:outline-none flex items-center gap-2"
                    th:classappend="${#fields.hasErrors('fullName')} ? 'input-error text-error'">
                <i class="fa-regular fa-user text-gray-400"></i>
                <input type="text" th:field="*{fullName}" class="grow" placeholder="Nguyễn Văn A"/>
            </label>
            <p th:if="${#fields.hasErrors('fullName')}" th:errors="*{fullName}" class="text-error text-xs mt-1"></p>
        </fieldset>

        <fieldset class="fieldset w-full mb-3">
            <legend class="fieldset-legend font-bold text-gray-700">Email</legend>
            <label
                    class="input w-full bg-base-100 border-gray-300 focus-within:border-[#422AD5] focus-within:outline-none flex items-center gap-2"
                    th:classappend="${#fields.hasErrors('email')} ? 'input-error text-error'">
                <i class="fa-regular fa-envelope text-gray-400"></i>
                <input type="email" th:field="*{email}" class="grow" placeholder="example@email.com"/>
            </label>
            <p th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="text-error text-xs mt-1"></p>
        </fieldset>

        <fieldset class="fieldset w-full mb-3">
            <legend class="fieldset-legend font-bold text-gray-700">Mật khẩu</legend>
            <label
                    class="input w-full bg-base-100 border-gray-300 focus-within:border-[#422AD5] focus-within:outline-none flex items-center gap-2"
                    th:classappend="${#fields.hasErrors('password')} ? 'input-error text-error'">
                <i class="fa-solid fa-lock text-gray-400"></i>
                <input type="password" th:field="*{password}" id="regPassword" class="grow"
                       placeholder="••••••••"/>
                <i id="iconRegPass"
                   class="fa-regular fa-eye cursor-pointer text-gray-400 hover:text-[#422AD5] transition-colors"
                   onclick="togglePassword('regPassword', 'iconRegPass')"></i>
            </label>
            <p th:if="${#fields.hasErrors('password')}" th:errors="*{password}" class="text-error text-xs mt-1"></p>
        </fieldset>

        <fieldset class="fieldset w-full mb-4">
            <legend class="fieldset-legend font-bold text-gray-700">Nhập lại mật khẩu</legend>
            <label
                    class="input w-full bg-base-100 border-gray-300 focus-within:border-[#422AD5] focus-within:outline-none flex items-center gap-2"
                    th:classappend="${#fields.hasErrors('confirmPassword')} ? 'input-error text-error'">
                <i class="fa-solid fa-lock text-gray-400"></i>
                <input type="password" th:field="*{confirmPassword}" id="confirmPassword" class="grow"
                       placeholder="••••••••"/>
                <i id="iconConfirmPass"
                   class="fa-regular fa-eye cursor-pointer text-gray-400 hover:text-[#422AD5] transition-colors"
                   onclick="togglePassword('confirmPassword', 'iconConfirmPass')"></i>
            </label>
            <p th:if="${#fields.hasErrors('confirmPassword')}" th:errors="*{confirmPassword}"
               class="text-error text-xs mt-1"></p>
        </fieldset>

        <div class="flex items-start gap-2 mb-6">
            <input type="checkbox" class="checkbox checkbox-sm checkbox-primary" required/>
            <span class="text-sm text-gray-600 select-none">
                    Tôi đồng ý với <a href="#" class="text-[#422AD5] hover:underline">Điều khoản sử dụng</a> và <a
                    href="#" class="text-[#422AD5] hover:underline">Chính sách bảo mật</a>
                </span>
        </div>

        <button type="submit"
                class="btn w-full border-none hover-brand text-lg font-medium shadow-md shadow-indigo-200">
            Đăng ký
        </button>
    </form>

    <p class="text-center mt-6 text-sm text-gray-600">
        Đã có tài khoản?
        <a th:href="@{/dang-nhap}" class="font-semibold text-brand hover:underline">Đăng nhập ngay</a>
    </p>
</div>

</body>

</html>