<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/auth-layout}" lang="vi">
<head>
    <title th:text="${layoutMeta.title}">ÄÄƒng nháº­p</title>
</head>
<body>

<div layout:fragment="side-content">
    <img src="https://images.unsplash.com/photo-1516321318423-f06f85e504b3?q=80&w=1000&auto=format&fit=crop"
         alt="Login Illustration"
         class="w-full max-w-md mx-auto rounded-3xl shadow-2xl mb-8 transform hover:scale-105 transition-transform duration-500 object-cover aspect-[4/3]">
    <h2 class="text-3xl font-bold text-gray-800 mb-4">ChÃ o má»«ng trá»Ÿ láº¡i!</h2>
    <p class="text-gray-600 max-w-md mx-auto">Tiáº¿p tá»¥c hÃ nh trÃ¬nh chinh phá»¥c Ä‘iá»ƒm sá»‘ TOEIC mÆ¡ Æ°á»›c cá»§a báº¡n.</p>
</div>

<div layout:fragment="form-header">
    <h2 class="text-2xl font-bold text-base-content">ÄÄƒng nháº­p tÃ i khoáº£n ğŸ”</h2>
    <p class="mt-2 text-sm text-base-content/60">Äiá»n thÃ´ng tin Ä‘á»ƒ truy cáº­p kho Ä‘á» thi.</p>
</div>

<div layout:fragment="form-content">

    <div th:if="${successMessage}" class="alert alert-success shadow-sm mb-4 text-sm">
        <i class="fa-solid fa-circle-check"></i>
        <span th:text="${successMessage}"></span>
    </div>

    <div th:if="${param.error}" class="alert alert-error shadow-sm mb-4 text-sm">
        <i class="fa-solid fa-circle-exclamation"></i>
        <span>Email hoáº·c máº­t kháº©u khÃ´ng chÃ­nh xÃ¡c.</span>
    </div>

    <div th:if="${param.unverified}" class="alert alert-warning shadow-sm mb-4 text-sm">
        <i class="fa-solid fa-triangle-exclamation"></i>
        <span>TÃ i khoáº£n chÆ°a Ä‘Æ°á»£c kÃ­ch hoáº¡t. Vui lÃ²ng kiá»ƒm tra email hoáº·c Ä‘Äƒng kÃ½ láº¡i.</span>
    </div>

    <div th:if="${param.locked}" class="alert alert-error shadow-sm mb-4 text-sm">
        <i class="fa-solid fa-lock"></i>
        <span>TÃ i khoáº£n Ä‘Ã£ bá»‹ khÃ³a. Vui lÃ²ng liÃªn há»‡ Admin.</span>
    </div>

    <div th:if="${param.logout}" class="alert alert-info shadow-sm mb-4 text-sm">
        <i class="fa-solid fa-right-from-bracket"></i>
        <span>Báº¡n Ä‘Ã£ Ä‘Äƒng xuáº¥t thÃ nh cÃ´ng.</span>
    </div>

    <form class="space-y-4" th:action="@{/dang-nhap}" method="POST">
        <div class="w-full">
            <label class="label pt-0"><span class="label-text font-semibold text-sm text-gray-500">Email</span></label>
            <label class="input w-full mt-1 focus-within:input-primary focus-within:text-primary flex items-center gap-2 border border-base-300 bg-base-100 rounded-lg px-3 py-2">
                <i class="fa-regular fa-envelope opacity-70"></i>
                <input type="email" name="email" class="grow border-none outline-none focus:ring-0 text-base-content"
                       placeholder="name@gmail.com" required/>
            </label>
        </div>

        <div class="w-full">
            <label class="label pt-0"><span
                    class="label-text font-semibold text-sm text-gray-500">Máº­t kháº©u</span></label>
            <label class="input w-full mt-1 focus-within:input-primary focus-within:text-primary flex items-center gap-2 border border-base-300 bg-base-100 rounded-lg px-3 py-2">
                <i class="fa-solid fa-lock opacity-70"></i>
                <input id="login-password" name="password" type="password"
                       class="grow border-none outline-none focus:ring-0 text-base-content" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
                       required/>
                <i onclick="togglePassword('login-password', this)"
                   class="fa-regular fa-eye cursor-pointer opacity-70 hover:opacity-100 transition-opacity"></i>
            </label>
        </div>

        <div class="flex items-center justify-between">
            <div class="cursor-pointer label justify-start gap-2 p-0">
                <input type="checkbox" name="remember-me" class="checkbox checkbox-primary checkbox-sm rounded"/>
                <span class="label-text text-base-content/70 text-sm">Ghi nhá»› Ä‘Äƒng nháº­p</span>
            </div>
            <a href="#" class="text-sm font-medium text-primary hover:text-secondary hover:underline transition-colors">
                QuÃªn máº­t kháº©u?
            </a>
        </div>

        <button type="submit"
                class="btn btn-primary w-full text-white text-lg shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all duration-200 mt-2">
            ÄÄƒng nháº­p
        </button>
    </form>
</div>

<p layout:fragment="auth-footer" class="text-center text-sm text-base-content/70">
    ChÆ°a cÃ³ tÃ i khoáº£n?
    <a th:href="@{/dang-ky}" class="font-bold text-primary hover:underline">ÄÄƒng kÃ½ ngay</a>
</p>

</body>
</html>